//- ì´ íŒŒì¼ì„ í˜¸ì¶œí•˜ëŠ” ../_mixins.pug íŒŒì¼ì€ ../base.pug íŒŒì¼ì—ì„œ include ë˜ì–´ìˆì–´,
//-  indexì™€ ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° í˜ì´ì§€ë¥¼ ì œì™¸í•œ ëª¨ë“  í˜ì´ì§€ì—ì„œ ë”°ë¡œ include ì—†ì´ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.

//- Bulletn Board Post View Template [ ê²Œì‹œíŒ ê¸€ ìƒì„¸ë³´ê¸° í…œí”Œë¦¿ ]
//- ğŸ’¥ ê²Œì‹œíŒ ê¸€ ìƒì„¸ë³´ê¸° í…œí”Œë¦¿ì€ 'url ì— ì¡´ì¬í•˜ëŠ” id ê°’ìœ¼ë¡œ ë°±ì—”ë“œì—ì„œ ì •ë³´ë¥¼ ì°¾ì•„ì„œ í…œí”Œë¦¿ ì—”ì§„ì— ì „ë‹¬í•´ì£¼ëŠ” ë°©ë²•' ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
//- ì¦‰, ì„œë²„ ì‚¬ì´ë“œì—ì„œ í•´ë‹¹í•˜ëŠ” í˜ì´ì§€ì˜ ë°ì´í„° ë Œë”ë§ì´ ëª¨ë‘ ëë‚œ í›„ ì œê³µë©ë‹ˆë‹¤. 

//- title, createdAt, writer, hit,
//- file,
//- ìƒì„¸ë³´ê¸°ì „ ê²Œì‹œê¸€ ì£¼ì†Œ (ex - community/board)
mixin postView(post, referrer, user)
  article.post-view
    mixin processDateTime(GMT)
      - const addTime = (hours, oldDate, newDate = new Date()) => {newDate.setTime(oldDate.getTime() + (hours * 60 * 60 * 1000)); return newDate;}
      - const yymmdd = (dateObj = new Date()) => dateObj.toISOString().match(/(?<=^\d{2})\d{2}-\d{2}-\d{2}(?=T)/)[0];
      - const hhmmss = (dateObj = new Date()) => dateObj.toISOString().match(/(?<=T)\d{2}:\d{2}:\d{2}/)[0];
      
      - const KST = addTime(9, GMT);
      - const createdDate = yymmdd(KST);
      - const createdTime = hhmmss(KST);
      - const today = yymmdd();

      - const displayedTime = createdDate === today ? createdTime : createdDate;

      div.post-view__header__prop.post-view__header__createdAt= displayedTime
    |
    |
    // ê²Œì‹œíŒ ê¸€ í—¤ë”
    section.post-view__header
      //- í—¤ë”ì— í‘œì‹œë  ê²Œì‹œê¸€ì˜ ì†ì„± = ['title', 'createdAt', 'writer', 'hit'];
      div.post-view__header__title= post.title
      +processDateTime(post.createdAt)
      div.post-view__header__prop.post-view__header__writer= post.UserId
      div.post-view__header__prop.post-view__header__hit= post.Inquiries[0].count
    // ê²Œì‹œíŒ ê¸€
    //- (ì»¨í…ì¸  ì–´ë–»ê²Œ ë˜ì ¸ì£¼ë‚˜ ë³´ê³  ê·¸ë‹¤ìŒ ê°€ê³µ ì˜ˆì •)
    section.post-view__content
      // ì²¨ë¶€ íŒŒì¼
      section.post-view__content__images
        each image in post.Images
          - const src = `https://www.ddccomputer.club/uploads/${image.src}`
          img(src= src style="max-width: 100%;").post-view__content__image
      section.post-view__content__txt= post.content
    // ê²Œì‹œíŒ ê¸€ í‘¸í„°
    section.post-view__footer
      -const boardPath = referrer.match(/^.*(?=\/\d)/)[0]; // regExp ex) '/community/board/14' => '/community/board'
      a(href= boardPath).post-view__footer__btn.post-view__footer__btn--board ëª©ë¡
      if user === post.UserId
        -const updatePath = `${referrer}/update?_method=PATCH`
        -const deletePath = `${referrer}/delete?_method=DELETE`
        form(action="" method="post").post-view__footer__form
          //- button(type="submit" name="" formmethod="" formaction= updatePath).post-view__footer__btn.post-view__footer__form--update ìˆ˜ì •í•˜ê¸°
          button(type="submit" name="" formaction= deletePath).post-view__footer__btn.post-view__footer__form--delete ì‚­ì œí•˜ê¸°
          //- TODO: ìˆ˜ì •í•˜ê¸° í…œí”Œë¦¿ ì™„ì„±ë˜ë©´ ì‚¬ìš©
    //- (ìœ„ì—ì„œ ë°›ì€ boardPathë¡œ postList ì‚½ì… ì˜ˆì •)